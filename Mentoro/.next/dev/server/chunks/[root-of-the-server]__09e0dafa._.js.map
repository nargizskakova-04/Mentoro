{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/dilyarabaizova/Mentoro/Mentoro/src/lib/db.ts"],"sourcesContent":["// This is a minimal in-memory mock database to allow the application to run without a real database connection.\n// In a real application, this would be a PrismaClient instance.\n\ndeclare global {\n    var prisma: any;\n}\n\nclass MockPrismaClient {\n    private users: any[] = [];\n\n    constructor() {\n        // Initialize with a demo user if needed\n    }\n\n    user = {\n        findUnique: async ({ where }: any) => {\n            if (where.email) {\n                return this.users.find(u => u.email === where.email) || null;\n            }\n            if (where.id) {\n                return this.users.find(u => u.id === where.id) || null;\n            }\n            return null;\n        },\n        create: async ({ data }: any) => {\n            // Assign random academic data for demo purposes\n            const majors = ['Software Engineering', 'Computer Science', 'Cybersecurity', 'Data Science'];\n            const groups = ['SE-2309', 'CS-2024', 'CYB-101', 'DS-303'];\n\n            const newUser = {\n                id: Math.random().toString(36).substring(7),\n                ...data,\n                major: majors[Math.floor(Math.random() * majors.length)],\n                group: groups[Math.floor(Math.random() * groups.length)],\n                gpa: (3.0 + Math.random()).toFixed(2),\n                createdAt: new Date(),\n                updatedAt: new Date(),\n            };\n            this.users.push(newUser);\n            return newUser;\n        },\n    };\n}\n\n// Singleton pattern to preserve data across HMR in development\nexport const db = global.prisma || new MockPrismaClient();\n\nif (process.env.NODE_ENV !== 'production') {\n    global.prisma = db;\n}\n"],"names":[],"mappings":"AAAA,gHAAgH;AAChH,gEAAgE;;;;;AAMhE,MAAM;IACM,QAAe,EAAE,CAAC;IAE1B,aAAc;IACV,wCAAwC;IAC5C;IAEA,OAAO;QACH,YAAY,OAAO,EAAE,KAAK,EAAO;YAC7B,IAAI,MAAM,KAAK,EAAE;gBACb,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,KAAK,KAAK,MAAM,KAAK,KAAK;YAC5D;YACA,IAAI,MAAM,EAAE,EAAE;gBACV,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,MAAM,EAAE,KAAK;YACtD;YACA,OAAO;QACX;QACA,QAAQ,OAAO,EAAE,IAAI,EAAO;YACxB,gDAAgD;YAChD,MAAM,SAAS;gBAAC;gBAAwB;gBAAoB;gBAAiB;aAAe;YAC5F,MAAM,SAAS;gBAAC;gBAAW;gBAAW;gBAAW;aAAS;YAE1D,MAAM,UAAU;gBACZ,IAAI,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,SAAS,CAAC;gBACzC,GAAG,IAAI;gBACP,OAAO,MAAM,CAAC,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,OAAO,MAAM,EAAE;gBACxD,OAAO,MAAM,CAAC,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,OAAO,MAAM,EAAE;gBACxD,KAAK,CAAC,MAAM,KAAK,MAAM,EAAE,EAAE,OAAO,CAAC;gBACnC,WAAW,IAAI;gBACf,WAAW,IAAI;YACnB;YACA,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;YAChB,OAAO;QACX;IACJ,EAAE;AACN;AAGO,MAAM,KAAK,OAAO,MAAM,IAAI,IAAI;AAEvC,wCAA2C;IACvC,OAAO,MAAM,GAAG;AACpB"}},
    {"offset": {"line": 127, "column": 0}, "map": {"version":3,"sources":["file:///Users/dilyarabaizova/Mentoro/Mentoro/src/lib/auth.ts"],"sourcesContent":["import bcrypt from 'bcryptjs';\nimport jwt from 'jsonwebtoken';\n\nconst SECRET_KEY = process.env.JWT_SECRET || 'super-secret-key-for-dev';\n\nexport async function hashPassword(password: string): Promise<string> {\n    const salt = await bcrypt.genSalt(10);\n    return bcrypt.hash(password, salt);\n}\n\nexport async function verifyPassword(password: string, hash: string): Promise<boolean> {\n    return bcrypt.compare(password, hash);\n}\n\nexport async function signJWT(payload: any): Promise<string> {\n    return jwt.sign(payload, SECRET_KEY, { expiresIn: '1d' });\n}\n\nexport async function verifyJWT(token: string): Promise<any> {\n    try {\n        return jwt.verify(token, SECRET_KEY);\n    } catch (error) {\n        return null; // Invalid token\n    }\n}\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AACA;;;AAEA,MAAM,aAAa,QAAQ,GAAG,CAAC,UAAU,IAAI;AAEtC,eAAe,aAAa,QAAgB;IAC/C,MAAM,OAAO,MAAM,8IAAM,CAAC,OAAO,CAAC;IAClC,OAAO,8IAAM,CAAC,IAAI,CAAC,UAAU;AACjC;AAEO,eAAe,eAAe,QAAgB,EAAE,IAAY;IAC/D,OAAO,8IAAM,CAAC,OAAO,CAAC,UAAU;AACpC;AAEO,eAAe,QAAQ,OAAY;IACtC,OAAO,kJAAG,CAAC,IAAI,CAAC,SAAS,YAAY;QAAE,WAAW;IAAK;AAC3D;AAEO,eAAe,UAAU,KAAa;IACzC,IAAI;QACA,OAAO,kJAAG,CAAC,MAAM,CAAC,OAAO;IAC7B,EAAE,OAAO,OAAO;QACZ,OAAO,MAAM,gBAAgB;IACjC;AACJ"}},
    {"offset": {"line": 165, "column": 0}, "map": {"version":3,"sources":["file:///Users/dilyarabaizova/Mentoro/Mentoro/src/app/api/auth/register/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\nimport { db } from '@/lib/db';\nimport { hashPassword } from '@/lib/auth';\n\nexport async function POST(req: NextRequest) {\n    try {\n        const { name, email, password } = await req.json();\n\n        if (!email || !password) {\n            return NextResponse.json(\n                { message: 'Email and password are required' },\n                { status: 400 }\n            );\n        }\n\n        // Check if user exists\n        const existingUser = await db.user.findUnique({\n            where: { email },\n        });\n\n        if (existingUser) {\n            return NextResponse.json(\n                { message: 'User already exists' },\n                { status: 409 }\n            );\n        }\n\n        const hashedPassword = await hashPassword(password);\n\n        const user = await db.user.create({\n            data: {\n                name,\n                email,\n                password: hashedPassword,\n            },\n        });\n\n        // Remove password from response\n        const { password: _, ...userWithoutPassword } = user;\n\n        return NextResponse.json(\n            { message: 'User created successfully', user: userWithoutPassword },\n            { status: 201 }\n        );\n    } catch (error) {\n        console.error('Registration error:', error);\n        return NextResponse.json(\n            { message: 'Internal server error' },\n            { status: 500 }\n        );\n    }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEO,eAAe,KAAK,GAAgB;IACvC,IAAI;QACA,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,IAAI;QAEhD,IAAI,CAAC,SAAS,CAAC,UAAU;YACrB,OAAO,gJAAY,CAAC,IAAI,CACpB;gBAAE,SAAS;YAAkC,GAC7C;gBAAE,QAAQ;YAAI;QAEtB;QAEA,uBAAuB;QACvB,MAAM,eAAe,MAAM,wHAAE,CAAC,IAAI,CAAC,UAAU,CAAC;YAC1C,OAAO;gBAAE;YAAM;QACnB;QAEA,IAAI,cAAc;YACd,OAAO,gJAAY,CAAC,IAAI,CACpB;gBAAE,SAAS;YAAsB,GACjC;gBAAE,QAAQ;YAAI;QAEtB;QAEA,MAAM,iBAAiB,MAAM,IAAA,oIAAY,EAAC;QAE1C,MAAM,OAAO,MAAM,wHAAE,CAAC,IAAI,CAAC,MAAM,CAAC;YAC9B,MAAM;gBACF;gBACA;gBACA,UAAU;YACd;QACJ;QAEA,gCAAgC;QAChC,MAAM,EAAE,UAAU,CAAC,EAAE,GAAG,qBAAqB,GAAG;QAEhD,OAAO,gJAAY,CAAC,IAAI,CACpB;YAAE,SAAS;YAA6B,MAAM;QAAoB,GAClE;YAAE,QAAQ;QAAI;IAEtB,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,uBAAuB;QACrC,OAAO,gJAAY,CAAC,IAAI,CACpB;YAAE,SAAS;QAAwB,GACnC;YAAE,QAAQ;QAAI;IAEtB;AACJ"}}]
}